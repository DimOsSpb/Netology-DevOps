# Задача 1: Работа с ВМ в Yandex Cloud. Оценка потребления ресурсов (Billing).
## Screen Shots решений:
![Виртуальная машина](img/%20%20%20%20virtd-homeworks-1.1.png)
![Потребление ресурсов (Billing)](img/%20%20%20%20virtd-homeworks-1.2.png)  

---
# Задача 2: Выбор платформы в зависимости от назначения

## Критерии выбора платформы для:

### 1. Высоконагруженная база данных MySQL, критичная к отказу

**Рекомендуемые решения:**

1. **Физические сервера** + отказоустойчивый кластер MySQL  
   - **Плюсы:** Лучшая производительность (нет накладных расходов гипервизора)  
   - **Минусы:** Дороже, сложнее в обслуживании  

2. **Паравиртуализация** (виртуальные машины) + отказоустойчивый кластер MySQL 
   - **Плюсы:** Дешевле. Возможность быстрых снимков ВМ, но могут возникнуть вопросы консистентности данных при восстановлении.  
   - **Минусы:** Меньшая производительность (накладные расходы гипервизора)   
   - **Рекомендация:** Перед сохранением БД останавливать сервер  

**Почему не контейнеры?**  
Контейнеры эфемерны - в любой момент контейнер может рестартовать: завершиться и вновь запуститься из образа. При этом все накопленные в нём данные будут потеряны, что негативно влияет на отказоустойчивость SQL-серверов. 

---

### 2. Различные web-приложения

**Рекомендуемое решение:**  
**Виртуализация уровня ОС (контейнеры)**  

**Обоснование:**  
- Веб-приложения обычно не хранят состояние внутри  
- Легко масштабируются  
- Устойчивы к перезагрузкам хоста  

**Альтернативы:**  
- Паравиртуализация (ВМ) - дороже и сложнее  
- Физические сервера - неоправданно дорого  

---

### 3. Windows-системы для бухгалтерского отдела

**Рекомендуемое решение:**  
**Паравиртуализация (виртуальные машины)**  

**Обоснование:**  
- Типичный сценарий (например для Росии): ВМ с Windows Server + 1С + RDP  или ВМ Linux с сервисами 1С + ВМ Apache для доступа тонких клиентов.  
- ВМ хорошо подходят для серверов VDI (виртуальные рабочие столы)   

---

### 4. Системы для высокопроизводительных расчётов на GPU

**Рекомендуемое решение:**  
**Физические сервера**  

**Обоснование:**  
- Максимальная производительность (нет накладных расходов гипервизора)  
- Прямой доступ к GPU-ресурсам  

**Альтернатива для нерегулярных вычислений:**  
Облачные bare-metal GPU-решения (экономически эффективно для редких ресурсоемких задач)

---

# Задача 3: Выбор подходящей системы управления виртуализацией для предложенного сценария. 

## Для сценария:

### 1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

## Рекомендуемое решение:
**VMware vSphere** (с дополнительными компонентами)

### Обоснование выбора:

**Плюсы**:

1. **Поддержка гетерогенной среды**:
   - Отличная поддержка как Windows, так и Linux гостевых ОС
   - Широкие возможности интеграции с Active Directory

2. **Встроенная балансировка нагрузки**:
3. **Встроенная Репликация данных**:
4. **Резервное копирование**:
   - Интеграция с Veeam Backup & Replication
   - Поддержка моментальных снимков
5. **Широкий инструментарий мониторинга и управления**

**Минусы**:
- Высокая стоимость
- В Росии есть текущие сложности в приобритения, поддержке и соответствии политики импортозамещенияю. 
   
## Альтернативные варианты:

### Microsoft Hyper-V + System Center
**Плюсы**:
- Лучшая интеграция с Windows-инфраструктурой
- Встроенная поддержка SMB для хранения данных

**Минусы**:
- Менее развитые возможности для Linux-гостей
- Сложнее в настройке балансировки нагрузки
- В Росии есть текущие сложности в приобритения, поддержке и соответствии политики импортозамещенияю.

### Proxmox VE
**Плюсы**:
- Бесплатная open-source платформа
- Поддержка LXC контейнеров, и ВМ. 

**Минусы**:
- Docker контейнеры придется держать на ВМ
- Меньше готовых решений для Windows
- Требует больше ручной настройки

### 2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

- Proxmox VE предлагает оптимальный баланс между производительностью, функциональностью и простотой управления для небольших инфраструктур.
- oVirt, но сложнее в настройке и администрировании.
- Xen, но хуже для Windows и меньше сообщество...

### 3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.

- Лучший выбор: **Hyper-V Server (бесплатная версия)**

    Т.к.:
    1. **Нативная совместимость с Windows и производительность**:
    2. **Бесплатная лицензия**

- Хуже интеграция для Windows будет у Proxmox
- Еще сложнее KVM/QEMU - ручная настройка

 ### 4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

- Для локальной работы - **VirtualBox**+Vagrant возможно еще + Ansible
- Если мы имеем например **ProxMox или облачную виртуальную среду**, то в среде виртуализации используем Terraform + Ansible
- Если ПО пригодно для тестирования в контейнере то **виртуализация уровня ОС** например Docker + Podman т.к. быстрая работа, простота описания окружения,  поддержка множества дистрибутивов.

---

# Задача 4: Проблемы и недостатки гетерогенной среды виртуализации и что необходимо сделать для минимизации этих рисков и проблем

- Гетерогенные среды имеют разные CLI/API управления, системы образов, сети, изоляцию, логи и метрики в разных местах. Все это делает работу сильно сложнее.

- Если бы у меня был выбор не делать гетерогенную среду - я бы не стал, чем меньше инструментов – тем проще жизнь.

- Если необходимо работать с разными средами нужно минимизировать стек инструментов, ввести некий стандарт для унификации. Т.е. один движок гипервизора, один для контейнеров, общая сеть, мониторинг через Prometheus + ELK для всех сред и т.д.   
